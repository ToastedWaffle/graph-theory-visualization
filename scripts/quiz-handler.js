/**
* This function returns the value of the given parameter
* @param {String} name the name of the parameter to read
*/
$.urlParam = function(name){
    var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
    if (results==null) {
        var searchParams = new URLSearchParams(window.location.search)
        searchParams.set("locale", "ro");
        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();
        history.pushState(null, '', newRelativePathQuery);

        return "ro";
    }
    return decodeURI(results[1]) || 0;
}

$(window).on('load',function(){
    let quiz = new Object;
    let cardslider;
    let locale = $.urlParam("locale");
    
    $.getJSON("questions/"+locale+".json", function(obj) {
        quiz = obj;
    }).done(()=>{
        for (let key of Object.entries(quiz)) {
            let groupId = key[0];
            
            if(groupId != "language"){
                
                let numberOfQuestions = quiz[groupId]["questions"].length;
                $("[data-question-group="+groupId+"]").append('<div class="cardslider" id="'+groupId+'"><ul></ul></div>');

                for(i in quiz[groupId]["questions"]){

                    let text = quiz[groupId]["questions"][i].text;
                    let answers = quiz[groupId]["questions"][i].answers;
                    let correctAnswer = quiz[groupId]["questions"][i].correctAnswer;

                    $("#"+groupId+"> ul").append(
                    '<li>'+
                        '<div class="question-step">'+(++i)+'/'+numberOfQuestions+'</div>'+
                        '<div class="question-body">'+
                            '<p class="question-text">'+text+'</p>'+

                            '<form class="form">'+
                                '<div class="inputGroup">'+
                                '<input id="radio-1-'+groupId+'-'+i+'" name="radio" type="radio"/>'+
                                '<label for="radio-1-'+groupId+'-'+i+'">'+answers[0]+'</label>'+
                                '</div>'+
                                '<div class="inputGroup">'+
                                '<input id="radio-2-'+groupId+'-'+i+'" name="radio" type="radio"/>'+
                                '<label for="radio-2-'+groupId+'-'+i+'">'+answers[1]+'</label>'+
                                '</div>'+
                                '<div class="inputGroup">'+
                                '<input id="radio-3-'+groupId+'-'+i+'" name="radio" type="radio"/>'+
                                '<label for="radio-3-'+groupId+'-'+i+'">'+answers[2]+'</label>'+
                                '</div>'+
                                '<div class="inputGroup">'+
                                '<input id="radio-4-'+groupId+'-'+i+'" name="radio" type="radio"/>'+
                                '<label for="radio-4-'+groupId+'-'+i+'">'+answers[3]+'</label>'+
                                '</div>'+
                            '</form>'+
                        '</div>'+
                        
                    '</li>'
                    );
                    $('#radio-'+correctAnswer+'-'+groupId+'-'+i).attr("data-crrct","true");
                }

                cardslider = $("#"+groupId).cardslider({
                    direction: "right",
                    nav: false
                });
                $("#"+groupId).data("pointCount",0);
                $("#"+groupId).data("numberOfQuestions",numberOfQuestions);

                $("#"+groupId).find(".question-body").first().addClass("blur");
                $("#"+groupId).find(".cardslider__card--index-0").append(
                    '<div class="card-overlay">'+
                        '<div class="svg-box">'+
                            '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.002 512.002" style="enable-background:new 0 0 512.002 512.002;fill: var(--background-color);" xml:space="preserve"><g><g><path d="M165.325,283.881c-1.082-5.416-6.357-8.929-11.766-7.845c-0.175,0.035-0.343,0.071-0.518,0.113c-5.37,1.289-8.679,6.687-7.39,12.058c1.101,4.586,5.197,7.669,9.716,7.668c0.724,0,1.459-0.079,2.194-0.244C162.931,294.512,166.403,289.27,165.325,283.881z"/></g></g><g><g><path d="M256.002,0c-5.522,0-10,4.478-10,10v20c0,5.522,4.477,10,10,10c5.522,0,10-4.478,10-10V10C266.002,4.478,261.524,0,256.002,0z"/></g></g><g><g><path d="M151.66,55.277l-10-17.32c-2.762-4.781-8.878-6.422-13.66-3.66c-4.783,2.762-6.422,8.877-3.66,13.66l10,17.32c1.853,3.208,5.213,5.002,8.67,5.002c1.696,0,3.416-0.433,4.99-1.342C152.783,66.175,154.422,60.06,151.66,55.277z"/></g></g><g><g><path d="M65.279,134.34l-17.322-10c-4.785-2.762-10.899-1.122-13.66,3.66c-2.762,4.783-1.123,10.899,3.66,13.66l17.322,10c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002C71.701,143.217,70.062,137.101,65.279,134.34z"/></g></g><g><g><path d="M30,246H10c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h20c5.522,0,10-4.478,10-10C40,250.478,35.522,246,30,246z"/></g></g><g><g><path d="M68.939,364.002c-2.759-4.781-8.875-6.421-13.66-3.66l-17.322,10c-4.783,2.761-6.422,8.877-3.66,13.66c1.852,3.208,5.213,5.002,8.67,5.002c1.696,0,3.415-0.433,4.99-1.342l17.322-10C70.062,374.901,71.701,368.785,68.939,364.002z"/></g></g><g><g><path d="M148,443.063c-4.784-2.761-10.9-1.123-13.66,3.66l-10,17.32c-2.762,4.783-1.123,10.898,3.66,13.66c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002l10-17.32C154.422,451.939,152.783,445.824,148,443.063z"/></g></g><g><g><path d="M256.002,472.002c-5.522,0-10,4.478-10,10v20c0,5.522,4.477,10,10,10s10-4.477,10-10v-20C266.002,476.479,261.524,472.002,256.002,472.002z"/></g></g><g><g><path d="M387.662,464.043l-10-17.32c-2.762-4.782-8.877-6.421-13.66-3.66c-4.783,2.762-6.422,8.877-3.66,13.66l10,17.32c1.853,3.208,5.213,5.002,8.67,5.002c1.696,0,3.416-0.433,4.99-1.342C388.785,474.941,390.424,468.826,387.662,464.043z"/></g></g><g><g><path d="M474.045,370.342l-17.32-10c-4.784-2.761-10.899-1.122-13.66,3.66c-2.762,4.783-1.123,10.898,3.66,13.66l17.32,10c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002C480.467,379.219,478.828,373.104,474.045,370.342z"/></g></g><g><g><path d="M502.002,246h-20c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h20c5.522,0,10-4.478,10-10C512.002,250.478,507.524,246,502.002,246z"/></g></g><g><g><path d="M477.704,128c-2.761-4.782-8.877-6.421-13.66-3.66l-17.32,10c-4.783,2.762-6.422,8.877-3.66,13.66c1.853,3.208,5.213,5.002,8.67,5.002c1.696,0,3.416-0.433,4.99-1.342l17.32-10C478.827,138.898,480.466,132.783,477.704,128z"/></g></g><g><g><path d="M384.002,34.298c-4.784-2.762-10.9-1.123-13.66,3.66l-10,17.32c-2.762,4.783-1.123,10.898,3.66,13.66c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002l10-17.32C390.424,43.175,388.785,37.059,384.002,34.298z"/></g></g><g><g><path d="M458.723,232.896c0-32.991-21.421-61.054-51.076-71.064c-5.975-24.21-26.132-42.548-50.897-46.861c-1.092-11.419-5.86-22.137-13.876-30.898C332.365,72.587,317.284,66,301.496,66c-18.811,0-35.454,9.189-45.495,23.202C245.96,75.189,229.316,66,210.506,66c-15.788,0-30.869,6.587-41.377,18.072c-8.01,8.755-12.777,19.466-13.874,30.876c-16.776,2.854-31.524,12.061-41.403,26.113c-9.566,13.608-13.174,29.875-10.368,45.744c-23.03,12.142-37.481,35.442-37.481,61.515c0,22.884,11.137,43.723,29.715,56.746c-10.689,16.856-12.299,37.146-4.016,56.243c10.153,23.409,32.925,38.535,58.012,38.535c1.952,0,3.917-0.09,5.887-0.269c1.553,10.393,6.173,20.256,13.399,28.21C179.516,439.361,194.644,446,210.506,446c18.811,0,35.454-9.189,45.495-23.202C266.042,436.811,282.686,446,301.496,446c15.862,0,30.99-6.639,41.507-18.214c7.228-7.955,11.849-17.819,13.399-28.213c24.265,2.183,46.919-9.041,59.911-30.537c13.217-21.865,12.068-47.572-2.445-67.486C440.251,289.919,458.723,263.531,458.723,232.896z M246.002,391.84C246,410.676,230.077,426,210.506,426c-10.237,0-19.97-4.251-26.704-11.663c-5.023-5.529-7.985-12.263-8.642-19.411c18.032-7.16,22.689-19.381,26.186-28.583c2.936-7.729,4.41-11.608,12.779-13.852c5.335-1.43,8.501-6.913,7.071-12.247c-1.43-5.335-6.914-8.501-12.247-7.071c-18.255,4.892-22.904,17.131-26.3,26.067c-3.421,9.002-5.68,14.948-20.024,18.792c-0.014,0.004-0.025,0.009-0.039,0.013c-0.01,0.003-0.02,0.003-0.029,0.006c-4.32,1.19-8.643,1.794-12.844,1.794c-17.113,0-32.683-10.399-39.663-26.494c-6.679-15.397-3.758-31.969,7.813-44.332c2.178-2.327,3.116-5.554,2.525-8.686c-0.591-3.133-2.641-5.796-5.517-7.17c-17.807-8.507-28.869-25.689-28.869-44.842c0-20.662,12.864-38.922,32.773-46.519c5.007-1.91,7.618-7.427,5.921-12.51c-4.154-12.443-2.144-25.83,5.518-36.729c8.036-11.433,20.831-18.186,35.114-18.544c17.016,0.037,20.771,6.827,25.958,16.215c4.726,8.553,11.197,20.266,28.599,20.266c5.522,0,10-4.478,10-10c0-5.522-4.478-10-10-10c-5.153,0-6.502-1.629-11.093-9.938c-5.083-9.201-12.436-22.491-33.339-25.782c1.035-6.333,3.906-12.261,8.433-17.208C190.613,90.218,200.316,86,210.506,86C230.077,86,246,101.324,246,120.16v135.259c-23.479-2.284-29.346-13.019-36.536-26.216c-7.037-12.916-15.795-28.99-42.115-31.772c-5.508-0.593-10.416,3.401-10.996,8.893c-0.581,5.492,3.4,10.416,8.893,10.996c15.883,1.68,20.169,9.546,26.656,21.452c2.348,4.31,4.853,8.893,8.04,13.316c-5.27,5.354-13.218,10.9-22.236,15.37c-4.948,2.453-6.971,8.453-4.518,13.401c1.746,3.522,5.287,5.561,8.968,5.561c1.491,0,3.007-0.335,4.434-1.042c11.205-5.555,20.837-12.35,27.754-19.435c7.566,4.829,17.65,8.385,31.658,9.527V391.84z M399.198,358.692c-7.903,13.075-25.675,25.986-49.752,19.359c-0.011-0.003-0.02-0.004-0.031-0.007c-0.013-0.003-0.024-0.009-0.037-0.012c-14.345-3.844-16.603-9.79-20.024-18.792c-3.395-8.937-8.045-21.176-26.3-26.067c-5.331-1.429-10.817,1.737-12.247,7.071c-1.43,5.334,1.736,10.817,7.071,12.247c8.369,2.243,9.843,6.122,12.779,13.852c3.497,9.202,8.153,21.423,26.186,28.583c-0.656,7.148-3.618,13.882-8.642,19.411C321.466,421.749,311.733,426,301.496,426c-19.571,0-35.494-15.324-35.494-34.16v-71.527c0-18.021,9.48-26.982,18.353-29.36c11.006-2.946,22.532,2.785,29.36,14.61c2.761,4.783,8.876,6.424,13.66,3.66c4.783-2.761,6.422-8.877,3.66-13.66c-11.311-19.592-32.152-29.209-51.856-23.929c-4.831,1.294-9.247,3.384-13.177,6.135V120.16c0-18.836,15.923-34.16,35.494-34.16c10.189,0,19.893,4.218,26.62,11.572c4.526,4.947,7.397,10.875,8.433,17.208c-20.901,3.29-28.254,16.58-33.338,25.781c-4.592,8.309-5.94,9.938-11.094,9.938c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10c17.401,0,23.873-11.713,28.599-20.266c5.188-9.39,8.944-16.18,25.97-16.215c16.699,0.424,31.303,9.941,38.326,23.91c-0.431-0.008-0.857-0.033-1.289-0.033c-41.355,0-75,33.645-75,75c0,41.355,33.645,75,75,75c3.096,0,6.142-0.211,9.14-0.577c0.358,0.6,0.781,1.17,1.277,1.701C409.856,325.811,407.057,345.689,399.198,358.692z M383.723,287.896c-30.327,0-55-24.673-55-55c0-30.327,24.673-55,55-55c30.327,0,55,24.673,55,55C438.723,263.224,414.05,287.896,383.723,287.896z"/></g></g><g><g><path d="M413.565,207.179c-4.22-3.564-10.53-3.03-14.092,1.191l-22.044,26.116l-9.488-7.281c-4.381-3.361-10.66-2.538-14.022,1.846c-3.362,4.382-2.536,10.659,1.846,14.021l17.06,13.092c1.812,1.391,3.954,2.066,6.082,2.066c2.85,0,5.675-1.213,7.647-3.55l28.201-33.41C418.319,217.05,417.786,210.741,413.565,207.179z"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'+
                        '</div>'+
                        '<div style="text-align: center;font-size: 1.5em;">'+quiz["language"].startQuizMessage+'</div>'+
                        '<div style="width: 30%;border: 2px solid;text-align: center;margin: 0 auto;padding: 10px;border-radius: 50px;" class="cardslider__nav-start">'+quiz["language"].play+'</div>'+
                    '</div>'
                );
            }
        }
    });

    $(".cardslider-container").delegate(".inputGroup","click",(e)=>{
        e.preventDefault();

        let input = $(e.currentTarget).children("input").prop('checked', true);
        let parentCard = $(e.currentTarget).closest(".cardslider__card");
        let cardGroup = $(e.currentTarget).closest(".cardslider");

        if(input.attr("data-crrct") == "true"){
            parentCard.children(".question-body").addClass("blur");
            parentCard.append(
                '<div class="card-overlay">'+
                    '<div class="card-overlay-body">'+
                    '<div class="svg-box">'+
                        '<svg class="circular green-stroke">'+
                            '<circle class="path" cx="75" cy="75" r="50" fill="none" stroke-width="5" stroke-miterlimit="10"/>'+
                        '</svg>'+
                        '<svg class="checkmark green-stroke">'+
                            '<g transform="matrix(0.79961,8.65821e-32,8.39584e-32,0.79961,-489.57,-205.679)">'+
                            '<path class="checkmark__check" fill="none" d="M616.306,283.025L634.087,300.805L673.361,261.53"/>'+
                            '</g>'+
                        '</svg>'+
                    '</div>'+
                        '<div style="text-align: center;font-size: 1.5em;">'+quiz["language"].goodAnswerMessage+'</div>'+
                        '<div style="width: 30%;border: 2px solid;text-align: center;margin: 0 auto;padding: 10px;border-radius: 50px;" class="cardslider__nav-next">'+quiz["language"].next+'</div>'+
                    '</div>'+
                '</div>'
            );

            cardGroup.data("pointCount",cardGroup.data("pointCount")+1);
        }
        else{
            parentCard.children(".question-body").addClass("blur");
            parentCard.append(
                '<div class="card-overlay">'+
                    '<div class="card-overlay-body">'+
                    '<div class="svg-box">'+
                        '<svg class="circular red-stroke">'+
                            '<circle class="path" cx="75" cy="75" r="50" fill="none" stroke-width="5" stroke-miterlimit="10"/>'+
                        '</svg>'+
                        '<svg class="cross red-stroke">'+
                            '<g transform="matrix(0.79961,8.65821e-32,8.39584e-32,0.79961,-502.652,-204.518)">'+
                            '<path class="first-line" d="M634.087,300.805L673.361,261.53" fill="none"/>'+
                            '</g>'+
                            '<g transform="matrix(-1.28587e-16,-0.79961,0.79961,-1.28587e-16,-204.752,543.031)">'+
                            '<path class="second-line" d="M634.087,300.805L673.361,261.53"/>'+
                            '</g>'+
                        '</svg>'+
                    '</div>'+
                    
                    '<div style="text-align: center;font-size: 1.5em;">'+quiz["language"].badAnswerMessage+'</div>'+
                    '<div style="width: 30%;border: 2px solid;text-align: center;margin: 0 auto;padding: 10px;border-radius: 50px;" class="cardslider__nav-next">'+quiz["language"].next+'</div>'+
                    '</div>'+
                '</div>'
            );
        }
        
        if(cardGroup.data("numberOfQuestions") == cardGroup.data("cardslider")._activeCard.index+1){
            setTimeout(()=>{
                parentCard.find(".card-overlay-body").slideUp(()=>{
                    parentCard.find(".card-overlay").append(
                        '<div class="question-end">'+
                            '<div class="svg-box">'+
                                '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;fill:var(--background-color);" xml:space="preserve"><g><g><path d="M387.854,303.072h-44.16c-4.665-23.507-25.447-41.282-50.303-41.282c-24.855,0-45.638,17.775-50.303,41.282h-34.16v-43.183c0-5.523-4.477-10-10-10c-17.249,0-31.281-14.033-31.281-31.281c0-17.249,14.032-31.282,31.281-31.282c5.523,0,10-4.477,10-10v-53.182c0-5.523-4.477-10-10-10H10c-5.523,0-10,4.477-10,10v377.854c0,5.523,4.477,10,10,10l377.853,0.001c5.523,0,10-4.477,10-10V313.072C397.854,307.549,393.376,303.072,387.854,303.072z M20,169.143h31.438c5.522,0,10-4.477,10-10s-4.478-10-10-10H20v-15h168.928v34.161c-23.507,4.665-41.281,25.447-41.281,50.303s17.774,45.638,41.281,50.302v34.161h-43.182c-5.523,0-10,4.477-10,10c0,17.249-14.033,31.282-31.283,31.282c-17.249,0-31.281-14.033-31.281-31.282c0-5.523-4.478-10-10-10H20V169.143z M188.928,448.817v43.182H20V323.071h34.16c4.665,23.507,25.447,41.282,50.303,41.282s45.64-17.775,50.305-41.282h34.16v43.183c0,5.523,4.478,10,10,10c17.249,0,31.281,14.033,31.281,31.282s-14.032,31.281-31.281,31.281C193.406,438.817,188.928,443.294,188.928,448.817z M377.854,491.999h-15V460.56c0-5.523-4.477-10-10-10c-5.522,0-10,4.477-10,10v31.439H208.928v-34.162c23.507-4.664,41.281-25.446,41.281-50.302c0-24.856-17.774-45.639-41.281-50.303v-34.161h43.182c5.522,0,10-4.477,10-10c0-17.249,14.032-31.282,31.281-31.282c17.249,0,31.281,14.033,31.281,31.282c0,5.523,4.477,10,10,10h43.182V491.999z"/></g></g><g><g><path d="M501.998,0H313.071c-5.522,0-10,4.477-10,10v44.161c-23.507,4.665-41.281,25.447-41.281,50.303s17.774,45.638,41.281,50.302v44.161c0,5.523,4.478,10,10,10h53.182c5.522,0,10-4.477,10-10c0-17.249,14.033-31.282,31.283-31.282c17.249,0,31.281,14.033,31.281,31.282c0,5.523,4.477,10,10,10h53.182c5.523,0,10-4.477,10-10V10C511.998,4.477,507.521,0,501.998,0z M491.998,188.927h-34.16c-4.665-23.507-25.447-41.282-50.303-41.282c-24.856,0-45.64,17.775-50.305,41.282h-34.16v-43.182c0-5.523-4.477-10-10-10c-17.249,0-31.281-14.033-31.281-31.281c0-17.249,14.032-31.282,31.281-31.282c5.523,0,10-4.477,10-10V20h168.928V188.927z"/></g></g><g><g><path d="M80.999,149.143h-0.475c-5.522,0-10,4.477-10,10s4.477,10,10,10h0.475c5.522,0,10-4.477,10-10S86.521,149.143,80.999,149.143z"/></g></g><g><g><path d="M352.854,421.001c-5.522,0-10,4.477-10,10v0.475c0,5.523,4.478,10,10,10c5.523,0,10-4.477,10-10v-0.475C362.854,425.478,358.377,421.001,352.854,421.001z"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'+
                            '</div>'+
                            '<div style="text-align: center;font-size: 1.5em;">'+quiz["language"].numberOfPoints+':'+
                                '<br><span style="font-size: 2em;">'+cardGroup.data("pointCount")+'/'+cardGroup.data("numberOfQuestions")+' ('+((100*cardGroup.data("pointCount"))/cardGroup.data("numberOfQuestions"))+'%)'+'</span>'+
                            '</div>'+
                            '<div style="width: 30%;border: 2px solid;text-align: center;margin: 0 auto;padding: 10px;border-radius: 50px;" class="cardslider__nav-reset">'+quiz["language"].tryAgain+'</div>'+
                        '</div>'
                    );
                    parentCard.find(".question-end").hide().fadeIn();
                });
                
            },1000);
        }
    });

    $(".cardslider-container").delegate(".cardslider__nav-next","click",(e)=>{
        let cardGroup = $(e.currentTarget).closest(".cardslider");
        cardGroup.data("cardslider").nextCard();
        
    });

    $(".cardslider-container").delegate(".cardslider__nav-reset","click",(e)=>{
        let cardGroup = $(e.currentTarget).closest(".cardslider");
        
        cardGroup.data("cardslider").changeCardTo("first");
        cardGroup.find(".card-overlay").remove();
        cardGroup.find("input:checked").prop('checked', false);
        cardGroup.find(".question-body").removeClass("blur");

        cardGroup.find(".cardslider__card--index-0").children(".question-body").addClass("blur");

        cardGroup.find(".cardslider__card--index-0").append(
            '<div class="card-overlay">'+
                '<div class="svg-box">'+
                    '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.002 512.002" style="enable-background:new 0 0 512.002 512.002;fill:var(--background-color);" xml:space="preserve"><g><g><path d="M165.325,283.881c-1.082-5.416-6.357-8.929-11.766-7.845c-0.175,0.035-0.343,0.071-0.518,0.113c-5.37,1.289-8.679,6.687-7.39,12.058c1.101,4.586,5.197,7.669,9.716,7.668c0.724,0,1.459-0.079,2.194-0.244C162.931,294.512,166.403,289.27,165.325,283.881z"/></g></g><g><g><path d="M256.002,0c-5.522,0-10,4.478-10,10v20c0,5.522,4.477,10,10,10c5.522,0,10-4.478,10-10V10C266.002,4.478,261.524,0,256.002,0z"/></g></g><g><g><path d="M151.66,55.277l-10-17.32c-2.762-4.781-8.878-6.422-13.66-3.66c-4.783,2.762-6.422,8.877-3.66,13.66l10,17.32c1.853,3.208,5.213,5.002,8.67,5.002c1.696,0,3.416-0.433,4.99-1.342C152.783,66.175,154.422,60.06,151.66,55.277z"/></g></g><g><g><path d="M65.279,134.34l-17.322-10c-4.785-2.762-10.899-1.122-13.66,3.66c-2.762,4.783-1.123,10.899,3.66,13.66l17.322,10c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002C71.701,143.217,70.062,137.101,65.279,134.34z"/></g></g><g><g><path d="M30,246H10c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h20c5.522,0,10-4.478,10-10C40,250.478,35.522,246,30,246z"/></g></g><g><g><path d="M68.939,364.002c-2.759-4.781-8.875-6.421-13.66-3.66l-17.322,10c-4.783,2.761-6.422,8.877-3.66,13.66c1.852,3.208,5.213,5.002,8.67,5.002c1.696,0,3.415-0.433,4.99-1.342l17.322-10C70.062,374.901,71.701,368.785,68.939,364.002z"/></g></g><g><g><path d="M148,443.063c-4.784-2.761-10.9-1.123-13.66,3.66l-10,17.32c-2.762,4.783-1.123,10.898,3.66,13.66c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002l10-17.32C154.422,451.939,152.783,445.824,148,443.063z"/></g></g><g><g><path d="M256.002,472.002c-5.522,0-10,4.478-10,10v20c0,5.522,4.477,10,10,10s10-4.477,10-10v-20C266.002,476.479,261.524,472.002,256.002,472.002z"/></g></g><g><g><path d="M387.662,464.043l-10-17.32c-2.762-4.782-8.877-6.421-13.66-3.66c-4.783,2.762-6.422,8.877-3.66,13.66l10,17.32c1.853,3.208,5.213,5.002,8.67,5.002c1.696,0,3.416-0.433,4.99-1.342C388.785,474.941,390.424,468.826,387.662,464.043z"/></g></g><g><g><path d="M474.045,370.342l-17.32-10c-4.784-2.761-10.899-1.122-13.66,3.66c-2.762,4.783-1.123,10.898,3.66,13.66l17.32,10c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002C480.467,379.219,478.828,373.104,474.045,370.342z"/></g></g><g><g><path d="M502.002,246h-20c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10h20c5.522,0,10-4.478,10-10C512.002,250.478,507.524,246,502.002,246z"/></g></g><g><g><path d="M477.704,128c-2.761-4.782-8.877-6.421-13.66-3.66l-17.32,10c-4.783,2.762-6.422,8.877-3.66,13.66c1.853,3.208,5.213,5.002,8.67,5.002c1.696,0,3.416-0.433,4.99-1.342l17.32-10C478.827,138.898,480.466,132.783,477.704,128z"/></g></g><g><g><path d="M384.002,34.298c-4.784-2.762-10.9-1.123-13.66,3.66l-10,17.32c-2.762,4.783-1.123,10.898,3.66,13.66c1.575,0.909,3.294,1.342,4.99,1.342c3.456,0,6.818-1.794,8.67-5.002l10-17.32C390.424,43.175,388.785,37.059,384.002,34.298z"/></g></g><g><g><path d="M458.723,232.896c0-32.991-21.421-61.054-51.076-71.064c-5.975-24.21-26.132-42.548-50.897-46.861c-1.092-11.419-5.86-22.137-13.876-30.898C332.365,72.587,317.284,66,301.496,66c-18.811,0-35.454,9.189-45.495,23.202C245.96,75.189,229.316,66,210.506,66c-15.788,0-30.869,6.587-41.377,18.072c-8.01,8.755-12.777,19.466-13.874,30.876c-16.776,2.854-31.524,12.061-41.403,26.113c-9.566,13.608-13.174,29.875-10.368,45.744c-23.03,12.142-37.481,35.442-37.481,61.515c0,22.884,11.137,43.723,29.715,56.746c-10.689,16.856-12.299,37.146-4.016,56.243c10.153,23.409,32.925,38.535,58.012,38.535c1.952,0,3.917-0.09,5.887-0.269c1.553,10.393,6.173,20.256,13.399,28.21C179.516,439.361,194.644,446,210.506,446c18.811,0,35.454-9.189,45.495-23.202C266.042,436.811,282.686,446,301.496,446c15.862,0,30.99-6.639,41.507-18.214c7.228-7.955,11.849-17.819,13.399-28.213c24.265,2.183,46.919-9.041,59.911-30.537c13.217-21.865,12.068-47.572-2.445-67.486C440.251,289.919,458.723,263.531,458.723,232.896z M246.002,391.84C246,410.676,230.077,426,210.506,426c-10.237,0-19.97-4.251-26.704-11.663c-5.023-5.529-7.985-12.263-8.642-19.411c18.032-7.16,22.689-19.381,26.186-28.583c2.936-7.729,4.41-11.608,12.779-13.852c5.335-1.43,8.501-6.913,7.071-12.247c-1.43-5.335-6.914-8.501-12.247-7.071c-18.255,4.892-22.904,17.131-26.3,26.067c-3.421,9.002-5.68,14.948-20.024,18.792c-0.014,0.004-0.025,0.009-0.039,0.013c-0.01,0.003-0.02,0.003-0.029,0.006c-4.32,1.19-8.643,1.794-12.844,1.794c-17.113,0-32.683-10.399-39.663-26.494c-6.679-15.397-3.758-31.969,7.813-44.332c2.178-2.327,3.116-5.554,2.525-8.686c-0.591-3.133-2.641-5.796-5.517-7.17c-17.807-8.507-28.869-25.689-28.869-44.842c0-20.662,12.864-38.922,32.773-46.519c5.007-1.91,7.618-7.427,5.921-12.51c-4.154-12.443-2.144-25.83,5.518-36.729c8.036-11.433,20.831-18.186,35.114-18.544c17.016,0.037,20.771,6.827,25.958,16.215c4.726,8.553,11.197,20.266,28.599,20.266c5.522,0,10-4.478,10-10c0-5.522-4.478-10-10-10c-5.153,0-6.502-1.629-11.093-9.938c-5.083-9.201-12.436-22.491-33.339-25.782c1.035-6.333,3.906-12.261,8.433-17.208C190.613,90.218,200.316,86,210.506,86C230.077,86,246,101.324,246,120.16v135.259c-23.479-2.284-29.346-13.019-36.536-26.216c-7.037-12.916-15.795-28.99-42.115-31.772c-5.508-0.593-10.416,3.401-10.996,8.893c-0.581,5.492,3.4,10.416,8.893,10.996c15.883,1.68,20.169,9.546,26.656,21.452c2.348,4.31,4.853,8.893,8.04,13.316c-5.27,5.354-13.218,10.9-22.236,15.37c-4.948,2.453-6.971,8.453-4.518,13.401c1.746,3.522,5.287,5.561,8.968,5.561c1.491,0,3.007-0.335,4.434-1.042c11.205-5.555,20.837-12.35,27.754-19.435c7.566,4.829,17.65,8.385,31.658,9.527V391.84z M399.198,358.692c-7.903,13.075-25.675,25.986-49.752,19.359c-0.011-0.003-0.02-0.004-0.031-0.007c-0.013-0.003-0.024-0.009-0.037-0.012c-14.345-3.844-16.603-9.79-20.024-18.792c-3.395-8.937-8.045-21.176-26.3-26.067c-5.331-1.429-10.817,1.737-12.247,7.071c-1.43,5.334,1.736,10.817,7.071,12.247c8.369,2.243,9.843,6.122,12.779,13.852c3.497,9.202,8.153,21.423,26.186,28.583c-0.656,7.148-3.618,13.882-8.642,19.411C321.466,421.749,311.733,426,301.496,426c-19.571,0-35.494-15.324-35.494-34.16v-71.527c0-18.021,9.48-26.982,18.353-29.36c11.006-2.946,22.532,2.785,29.36,14.61c2.761,4.783,8.876,6.424,13.66,3.66c4.783-2.761,6.422-8.877,3.66-13.66c-11.311-19.592-32.152-29.209-51.856-23.929c-4.831,1.294-9.247,3.384-13.177,6.135V120.16c0-18.836,15.923-34.16,35.494-34.16c10.189,0,19.893,4.218,26.62,11.572c4.526,4.947,7.397,10.875,8.433,17.208c-20.901,3.29-28.254,16.58-33.338,25.781c-4.592,8.309-5.94,9.938-11.094,9.938c-5.522,0-10,4.478-10,10c0,5.522,4.478,10,10,10c17.401,0,23.873-11.713,28.599-20.266c5.188-9.39,8.944-16.18,25.97-16.215c16.699,0.424,31.303,9.941,38.326,23.91c-0.431-0.008-0.857-0.033-1.289-0.033c-41.355,0-75,33.645-75,75c0,41.355,33.645,75,75,75c3.096,0,6.142-0.211,9.14-0.577c0.358,0.6,0.781,1.17,1.277,1.701C409.856,325.811,407.057,345.689,399.198,358.692z M383.723,287.896c-30.327,0-55-24.673-55-55c0-30.327,24.673-55,55-55c30.327,0,55,24.673,55,55C438.723,263.224,414.05,287.896,383.723,287.896z"/></g></g><g><g><path d="M413.565,207.179c-4.22-3.564-10.53-3.03-14.092,1.191l-22.044,26.116l-9.488-7.281c-4.381-3.361-10.66-2.538-14.022,1.846c-3.362,4.382-2.536,10.659,1.846,14.021l17.06,13.092c1.812,1.391,3.954,2.066,6.082,2.066c2.85,0,5.675-1.213,7.647-3.55l28.201-33.41C418.319,217.05,417.786,210.741,413.565,207.179z"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'+
                '</div>'+
                '<div style="text-align: center;font-size: 1.5em;">'+quiz["language"].startQuizMessage+'</div>'+
                '<div style="width: 30%;border: 2px solid;text-align: center;margin: 0 auto;padding: 10px;border-radius: 50px;" class="cardslider__nav-start">'+quiz["language"].play+'</div>'+
            '</div>'
        );

        cardGroup.data("pointCount",0);
    });

    $(".cardslider-container").delegate(".cardslider__nav-start","click",(e)=>{
        let cardOverlay = $(e.currentTarget).closest(".card-overlay");
        
        cardOverlay.fadeOut(()=>{
            cardOverlay.siblings(".question-body").removeClass("blur");
            cardOverlay.remove();
        });
    });
});